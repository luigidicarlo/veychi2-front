<div class="container">
    <form [formGroup]="productForm" (ngSubmit)="edit ? onEdit() : onSubmit()">
        <div class="row">
            <div class="col-md-8">
                <div class="form-group">
                    <label for="formGroupExampleInput">Nombre del producto</label>
                    <input type="text" class="form-control" id="name" [(ngModel)]="singleProduct.name" formControlName="name" placeholder="">
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="Precio">Precio (CLP)</label>
                        <input type="text" class="form-control" id="description" [(ngModel)]="singleProduct.price" formControlName="price" placeholder="Ej: 10000">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="Descuento">Descuento (%)</label>
                        <input type="text" class="form-control" id="shortDescription" [(ngModel)]="singleProduct.discount" formControlName="discount" placeholder="Ej: 20">
                    </div>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlTextarea1">Descripción completa</label>
                    <textarea class="form-control" id="description" [(ngModel)]="singleProduct.description" formControlName="description"></textarea>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlTextarea1">Descripción breve</label>
                    <textarea class="form-control" id="shortDescription" [(ngModel)]="singleProduct.shortDescription" formControlName="shortDescription"></textarea>
                </div>                                
                <div class="form-group">
                    <label for="formGroupExampleInput">URL de imagen</label>
                    <input type="text" class="form-control" id="images" formControlName="images" placeholder="">
                </div>
                <div class="form-group">
                    <label for="formGroupExampleInput">Tags (Etiquetas de producto)</label>
                    <tag-input formControlName="tags" [(ngModel)]="singleProduct.tags" [displayBy]="'value'" [editable]='true' placeholder="Ingrese un tag" secondaryPlaceholder="Ingrese un tag"></tag-input>
                </div>
                <ng-container *ngIf="edit">
                    <div class="form-group">
                        <label for="formGroupExampleInput">Categoría</label>
                        <select class="form-control" id="category" [(ngModel)]="singleProduct.category._id" formControlName="category">
                            <option *ngFor="let category of categories" value="{{ category._id }}">{{ category.name }}</option>
                        </select>
                    </div>                    
                </ng-container>
                <ng-container *ngIf="!edit">
                    <div class="form-group">
                        <label for="formGroupExampleInput">Categoría</label>
                        <select class="form-control" id="category" formControlName="category">
                            <option *ngFor="let category of categories" value="{{ category._id }}">{{ category.name }}</option>
                        </select>
                    </div>                    
                </ng-container>
                <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid || submitted">Publicar</button>
                <small class="form-text text-danger"
                    *ngIf="error">
                    Ha ocurrido un error
                </small>
            </div>
            <div class="col-md-4">
                <div style="border: 1px solid grey">
                    <img class="img-fluid" src="https://veychi.com/wp-content/plugins/wc-frontend-manager/includes/libs/upload/images/Placeholder.png">
                </div>     
                <br>           
                <input type="file" (change)="onUpload($event)">
            </div>
        </div>
    </form>    
</div>
<br><br><br>
